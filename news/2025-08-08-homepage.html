<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ホームページ開設！</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <div class="news kinsoku prose">

    <h2>ホームページ開設！</h2>
    <p class="news-date">2025-08-08</p>

    <div class="news-feature">
      <img src="/asset/img/image.jpg" alt="スシハム画像" class="news-thumb" style="width: 100%; height: auto; border-radius: 12px; margin-bottom: 16px;">
      <p class="news-preview">
        sushihamster公式サイトがついにオープンしました！<br>
        これから最新情報や出演情報などをどんどん更新していきます🐹🍣🎶<br>
        よろしくお願いします！
      </p>
    </div>

    <div class="news-embed" style="margin: 24px 0;">
      <!-- YouTube/Spotify などをここに埋め込める -->
    </div>

    <div class="share-buttons" style="margin: 24px 0; text-align: center;">
      <a href="#" class="sns-btn tw">Twitterでシェア</a>
      <a href="#" class="sns-btn ig">Instagramストーリーズ</a>
      <a href="#" class="sns-btn yt">YouTubeで見る</a>
    </div>

    <!-- ナビゲーション -->
    <div class="news-nav"
      style="display: flex; justify-content: space-between; align-items: center; margin-top: 40px; flex-wrap: wrap; gap: 10px; text-align: center;">
      <span>読み込み中...</span>
    </div>

  </div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const currentFilename = window.location.pathname.split("/").pop();

    fetch("/news/files-html.json?nocache=" + Date.now())
      .then(res => {
        if (!res.ok) throw new Error("ファイル取得エラー");
        return res.json();
      })
      .then(files => {
        const index = files.indexOf(currentFilename);
        if (index === -1) {
          console.warn("現在のファイルが一覧に見つかりません:", currentFilename);
          return;
        }

        const prev = files[index + 1];
        const next = files[index - 1];

        const nav = document.querySelector(".news-nav");
        if (!nav) return;

        const createLink = (file, text) => {
          const a = document.createElement("a");
          a.href = `/news/${file}`;
          a.textContent = text;
          return a;
        };

        nav.innerHTML = "";
        nav.appendChild(prev ? createLink(prev, "← 前の記事へ") : document.createElement("span"));
        nav.appendChild(createLink("information.html", "お知らせ一覧へ戻る"));
        nav.appendChild(next ? createLink(next, "次の記事へ →") : document.createElement("span"));
      })
      .catch(err => {
        console.error("ナビゲーション生成エラー:", err);
        const nav = document.querySelector(".news-nav");
        if (nav) {
          nav.innerHTML = "<span style='color: red;'>記事ナビの読み込みに失敗しました。</span>";
        }
      });
  });
</script>

</body>
</html>
